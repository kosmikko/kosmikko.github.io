<!DOCTYPE html><html lang="en"><head><!-- Meta--><meta charset="utf-8"><meta http-equiv="content-type" content="text/html; charset=utf-8"><title>Using GNU Make as a frontend build tool | mikkolehtinen.com</title><meta name="description" content="When your website appears in search results in say Google, the text here will be shown underneath your website's title."><meta name="keywords" content="place, your, website, keywoards, here, keep, them, related, to, the, content, of, your, website"><meta name="author" content="Mikko Lehtinen"><meta http-equiv="X-Powered-By" content="DocPad"/><meta name="viewport" content="width=device-width"><!-- Icons--><link rel="shortcut icon" href="img/favicon.png"><!--[if lt IE 9]><script async src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script><![endif]--><!-- Styles--><link rel="stylesheet" href="/styles/monokai.css" /><link rel="stylesheet" href="/styles/main.css" /><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" type="text/css"><link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" type="text/css"></head><body><header class="logo"><hgroup><h1><a href="/">mikkolehtinen.com</a></h1></hgroup></header><article id="maincolumn"><section id="content" class="content"><article class="post"><header><h1><a href="/blog/2012/07/10/using-gnu-make-as-frontend-build-tool/">Using GNU Make as a frontend build tool</a></h1><p class="meta">Jul 10 2012</p></header><div class="page-content"><p>There seems to be hundreds of language specific build tools for everyone&#39;s needs, and somehow I feel that wasted energy could be spent on building more useful things. Often a small <a href="http://en.wikipedia.org/wiki/Make_(software\">Makefile</a>) is all that you need. &#39;make&#39; may seem like complicated tool at first but learning the basics is quick and highly recommended.

</p>
<p><a href="http://www.gnu.org/software/make/manual/make.html">GNU make</a> has been built for detecting which parts of a program need to be recompiled, and issuing commands to recompile them. The most common use cases for frontend asset building are:

</p>
<ul>
<li>You need to concatenate and minify your assets for production use</li>
<li>You want to compile <em>SASS/LESS/Stylus</em> files to <em>CSS</em> and <em>.coffee</em> files to <em>.js</em> when developing. To make things convenient this should be automatically done on file modification without the need to run any commands.</li>
<li>You want to run other tasks on file save; such as linting or running tests</li>
<li>Deploy files to production
<!-- more -->
Using &#39;make&#39; is convenient because you don&#39;t need to introduce another dependency for your project since every developer should have &#39;make&#39; preinstalled (as long as they are using Unix based OS). Once you learn it, it&#39;s easily portable, and can be used any project regardless of the environment, avoiding the need to learn language specific build tools. If you build your Makefiles right, it should be just few lines of code, which makes it simple and easy to maintain.</li>
</ul>
<p>One thing you will need, is a tool for periodically running &#39;make&#39; . I recommend installing <a href="https://github.com/visionmedia/watch">watch</a> by <a href="https://github.com/visionmedia">TJ Holowaychuck</a>, which excutes a given command on selected interval. This is very lightweight way of detecting file changes, and doesn&#39;t use any processing power when there&#39;s no changes to be compiled (unlike when using many language specific build tools).

</p>
<pre class="highlighted"><code class="haskell"><span class="title">git</span> clone https://github.com/visionmedia/watch.git
<span class="title">cd</span> watch
<span class="title">make</span> install</code></pre>
<p>Here is a sample Makefile from my <a href="http://www.rewindy.com">Rewindy</a> project:
</p>
<script src="https://gist.github.com/3083602.js"> </script>

<p>When you start working on the code, run

</p>
<pre class="highlighted"><code class="nginx">    <span class="title">make</span> watch</code></pre>
<p>which runs the necessary commands to compile your asset files immediately after change. Combine this with tools like <a href="http://livereload.com/">LiveReload</a>, and you&#39;ll have a pretty smooth build process.</p>
</div><p class="postmeta"><span>Posted by Mikko Lehtinen</span><date>Jul 10 2012</date><span class="tags"></span></p><div class="sharing"><a href="https://twitter.com/share" data-via="kosmikko" data-related="kosmikko" class="twitter-share-button">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></div></article></section></article><aside id="sidebar"><section id="recent-posts"><h2>Recent posts</h2><ul><li><a href="/blog/2013/01/13/new-mac-setup/">Setting up a new Mac</a></li><li><a href="/blog/2012/08/03/structuring-complex-backbone-dot-js-apps/">Structuring complex Backbone.js apps</a></li><li><a href="/blog/2012/07/10/using-gnu-make-as-frontend-build-tool/">Using GNU Make as a frontend build tool</a></li><li><a href="/blog/2012/06/30/extending-backbone-views-using-mixins/">Extending Backbone views using mixins</a></li><li><a href="/blog/2012/05/25/rewindy-tech-stack/">Rewindy tech stack</a></li><li><a href="/blog/2012-05-16-migrated-to-octopress">Migrated to Octopress</a></li><li><a href="/blog/2010-11-05-cross-browser-buttons-with-css3-and-sass">Cross-browser buttons with CSS3 and Sass</a></li><li><a href="/blog/2010-10-28-app-engine-helpers-for-zsh">App Engine helpers for ZSH</a></li><li><a href="/blog/2010-10-26-markup-enabled-notational-velocity">Markup-enabled Notational Velocity</a></li><li><a href="/blog/2010-10-15-programmers-keyboard-layout">Programmer's keyboard layout</a></li><li><a href="/blog/2010-10-01-improving-kindle3-experience">Improving Kindle3 experience</a></li><li><a href="/blog/2010-09-24-osx-zsh-magic">OSX ZSH magic</a></li><li><a href="/blog/2010-09-24-decorator-for-executing-a-function-in-a-given-namespace">Decorator for executing a function in a given namespace</a></li></ul></section><section id="tweets"><h2>Latest tweets</h2><li><datetime>Jan 13 2013</datetime><a href="https://twitter.com/#!/kosmikko/status/290482643106164736" title="View on Twitter">VexFlow: A Music Notation Language and Renderer for the Web http://t.co/U5wophCK</a></li><li><datetime>Jan 09 2013</datetime><a href="https://twitter.com/#!/kosmikko/status/288953779284475904" title="View on Twitter">Impressive hack - KindleBerry Pi http://t.co/Wv6KJ0OW Kindle as a screen for Raspberry Pi</a></li><li><datetime>Jan 07 2013</datetime><a href="https://twitter.com/#!/kosmikko/status/288178184195805184" title="View on Twitter">Why Ideas are a Bad Place to Start a Startup – or – Why Ideas are Evil http://t.co/IWGLHkFK</a></li><li><datetime>Jan 04 2013</datetime><a href="https://twitter.com/#!/kosmikko/status/287202599843790850" title="View on Twitter">Devops reactions http://t.co/sRKivM6Z</a></li><li><datetime>Jan 02 2013</datetime><a href="https://twitter.com/#!/kosmikko/status/286453969822314497" title="View on Twitter">Highlevel testing with CasperJS - Kevin van Zonneveld http://t.co/TKqYu2Mq via @kvz</a></li></section></aside><!-- Scripts--></body></html>